[20:35:20 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[20:35:20 INF] Now listening on: https://localhost:7111
[20:35:20 INF] Now listening on: http://localhost:5111
[20:35:20 INF] Application started. Press Ctrl+C to shut down.
[20:35:20 INF] Hosting environment: Development
[20:35:20 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[20:35:23 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:35:23 INF] Information details: 
[20:35:23 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:35:23 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 736.2322ms
[20:35:23 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:35:24 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.9807ms
[20:35:24 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - -
[20:35:25 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[20:35:25 INF] Information details: 
[20:35:25 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - - - 0 628 image/png 950.3015ms
[20:35:26 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:35:26 INF] Information details: 
[20:35:26 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 658.7455ms
[20:35:35 INF] Request starting HTTP/2 GET https://localhost:7111/ - -
[20:35:35 INF] Information details: 
[20:35:35 INF] Request finished HTTP/2 GET https://localhost:7111/ - - - 404 0 - 549.2042ms
[20:35:35 INF] Request starting HTTP/2 GET https://localhost:7111/favicon.ico - -
[20:35:35 INF] Information details: 
[20:35:35 INF] Request finished HTTP/2 GET https://localhost:7111/favicon.ico - - - 404 0 - 3.0735ms
[20:35:46 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/ - -
[20:35:46 INF] Information details: 
[20:35:46 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/ - - - 301 0 - 7.3095ms
[20:35:46 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:35:46 INF] Information details: 
[20:35:46 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:35:46 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 12.7448ms
[20:35:46 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:35:46 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.0210ms
[20:35:46 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:35:46 INF] Information details: 
[20:35:46 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.1349ms
[20:36:13 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[20:36:13 INF] CORS policy execution successful.
[20:36:13 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:13 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:36:13 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:36:14 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 622.2042ms.
[20:36:14 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[20:36:14 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 756.821ms
[20:36:14 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:14 INF] Information details: AuthController -> Login (username:acc-test-one@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[20:36:14 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 814.0387ms
[20:36:30 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[20:36:30 INF] CORS policy execution successful.
[20:36:30 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:30 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:36:30 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:36:30 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 160.7607ms.
[20:36:30 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[20:36:30 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 184.7787ms
[20:36:30 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:30 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[20:36:30 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 194.6488ms
[20:36:41 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 75
[20:36:41 INF] CORS policy execution successful.
[20:36:41 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:41 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:36:41 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:36:41 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 74.4849ms.
[20:36:41 INF] Executing StatusCodeResult, setting HTTP status code 401
[20:36:41 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 96.5325ms
[20:36:41 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:41 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername
[20:36:41 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 75 - 401 0 - 102.7908ms
[20:36:49 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 75
[20:36:49 INF] CORS policy execution successful.
[20:36:49 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:49 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:36:49 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:36:49 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 0.3231ms.
[20:36:49 INF] Executing StatusCodeResult, setting HTTP status code 404
[20:36:49 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 18.2698ms
[20:36:49 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:36:49 INF] Information details: AuthController -> Login (username:acc-test-threes@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername
[20:36:49 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 75 - 404 0 - 27.1170ms
[20:36:58 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/register application/json 50
[20:36:58 INF] CORS policy execution successful.
[20:36:58 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation)'
[20:36:58 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Register(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:36:58 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:37:02 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3754.7189ms.
[20:37:02 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:37:02 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation) in 3778.5328ms
[20:37:02 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation)'
[20:37:02 INF] Information details: Register -> Login (username:string,password:string)=>
RegisterHandler -> Handle
[20:37:02 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/register application/json 50 - 400 - text/plain;+charset=utf-8 3791.6090ms
[20:37:10 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/register application/json 53
[20:37:10 INF] CORS policy execution successful.
[20:37:10 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation)'
[20:37:10 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Register(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:37:10 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:37:10 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.6007ms.
[20:37:10 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:37:10 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation) in 26.5537ms
[20:37:10 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation)'
[20:37:10 INF] Information details: Register -> Login (username:string,password:stringR1.)=>
RegisterHandler -> Handle
[20:37:10 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/register application/json 53 - 400 - text/plain;+charset=utf-8 35.7050ms
[20:37:16 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/register application/json 56
[20:37:16 INF] CORS policy execution successful.
[20:37:16 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation)'
[20:37:16 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Register(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:37:16 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:37:16 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.5822ms.
[20:37:16 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[20:37:16 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation) in 98.7667ms
[20:37:16 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Register (Homework.Enigmatry.Shop.Presentation)'
[20:37:16 INF] Information details: Register -> Login (username:string123,password:stringR1.)=>
RegisterHandler -> Handle=>
ArticleRepository -> GetByUsername=>
ArticleRepository -> Add=>
UnitOfWork -> Save=>
TokenService -> CreateToken
[20:37:16 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/register application/json 56 - 200 - application/json;+charset=utf-8 105.6982ms
[20:37:42 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 56
[20:37:42 INF] CORS policy execution successful.
[20:37:42 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:37:42 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:37:42 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:37:42 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.3824ms.
[20:37:42 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[20:37:42 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 99.3394ms
[20:37:42 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:37:42 INF] Information details: AuthController -> Login (username:string123)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[20:37:42 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 56 - 200 - application/json;+charset=utf-8 113.1172ms
[20:37:51 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:37:51 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:37:51 INF] AuthenticationScheme: Bearer was challenged.
[20:37:51 INF] Information details: 
[20:37:51 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 401 0 - 14.3216ms
[20:38:09 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:09 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:09 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:09 INF] Information details: 
[20:38:09 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 48.4355ms
[20:38:35 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:35 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:35 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:35 INF] Information details: 
[20:38:35 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 7.9604ms
[20:38:37 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:37 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:37 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:37 INF] Information details: 
[20:38:37 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 5.8898ms
[20:38:37 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:37 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:37 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:37 INF] Information details: 
[20:38:37 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.5377ms
[20:38:37 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:37 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:37 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:37 INF] Information details: 
[20:38:37 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 3.4861ms
[20:38:37 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:37 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:37 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:37 INF] Information details: 
[20:38:37 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 5.6608ms
[20:38:37 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:37 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:37 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:37 INF] Information details: 
[20:38:37 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 5.9002ms
[20:38:53 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:38:53 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:38:53 INF] AuthenticationScheme: Bearer was forbidden.
[20:38:53 INF] Information details: 
[20:38:53 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.3452ms
[20:39:10 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:39:10 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:10 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:10 INF] Information details: 
[20:39:10 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.8388ms
[20:39:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:39:11 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:11 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:11 INF] Information details: 
[20:39:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.5782ms
[20:39:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:39:11 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:11 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:11 INF] Information details: 
[20:39:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 10.7110ms
[20:39:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:39:11 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:11 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:11 INF] Information details: 
[20:39:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.0101ms
[20:39:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:39:11 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:11 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:11 INF] Information details: 
[20:39:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.4074ms
[20:39:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:39:11 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:11 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:11 INF] Information details: 
[20:39:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 403 0 - 4.7341ms
[20:39:20 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - -
[20:39:20 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:20 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:20 INF] Information details: 
[20:39:20 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - - - 403 0 - 4.8504ms
[20:39:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - -
[20:39:21 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:21 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:21 INF] Information details: 
[20:39:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - - - 403 0 - 6.4366ms
[20:39:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - -
[20:39:21 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:21 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:21 INF] Information details: 
[20:39:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - - - 403 0 - 4.6152ms
[20:39:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - -
[20:39:21 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:21 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:21 INF] Information details: 
[20:39:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - - - 403 0 - 4.4651ms
[20:39:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - -
[20:39:21 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:21 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:21 INF] Information details: 
[20:39:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - - - 403 0 - 4.3807ms
[20:39:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - -
[20:39:21 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:39:21 INF] AuthenticationScheme: Bearer was forbidden.
[20:39:21 INF] Information details: 
[20:39:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/16/offers?MaxArticlePrice=24 - - - 403 0 - 5.3320ms
[20:39:51 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[20:39:51 INF] Now listening on: https://localhost:7111
[20:39:51 INF] Now listening on: http://localhost:5111
[20:39:51 INF] Application started. Press Ctrl+C to shut down.
[20:39:51 INF] Hosting environment: Development
[20:39:51 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[20:39:53 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:39:53 INF] Information details: 
[20:39:53 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:39:53 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 430.1692ms
[20:39:54 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:39:54 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.6402ms
[20:39:54 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:39:54 INF] Information details: 
[20:39:54 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.7585ms
[20:40:09 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1 - -
[20:40:10 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:10 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:40:10 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:40:17 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7365.8552ms.
[20:40:17 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDetailsDto'.
[20:40:17 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 7505.1018ms
[20:40:17 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:17 INF] Information details: ArticleController -> Get (id:1)=>
GetArticleByIdHandler -> Handle=>
ArticleRepository -> Get
[20:40:17 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1 - - - 200 - application/json;+charset=utf-8 7938.6792ms
[20:40:26 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article - -
[20:40:26 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:26 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:40:26 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:40:26 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.379ms.
[20:40:26 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[20:40:26 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 98.4027ms
[20:40:26 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:26 INF] Information details: ArticleController -> Get (params=size:10,number:1,filter:)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[20:40:26 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article - - - 200 - application/json;+charset=utf-8 120.6458ms
[20:40:35 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=2&PageSize=2 - -
[20:40:35 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:35 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:40:35 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:40:35 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7655ms.
[20:40:35 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[20:40:35 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 32.467ms
[20:40:35 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:35 INF] Information details: ArticleController -> Get (params=size:2,number:2,filter:)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[20:40:35 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=2&PageSize=2 - - - 200 - application/json;+charset=utf-8 45.3817ms
[20:40:40 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=1&PageSize=2 - -
[20:40:40 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:40 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:40:40 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:40:40 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4224ms.
[20:40:40 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[20:40:40 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 23.3708ms
[20:40:40 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:40 INF] Information details: ArticleController -> Get (params=size:2,number:1,filter:)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[20:40:40 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=1&PageSize=2 - - - 200 - application/json;+charset=utf-8 34.3323ms
[20:40:47 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article?Filter=ck&PageNumber=1&PageSize=2 - -
[20:40:47 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:47 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:40:47 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:40:47 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2523ms.
[20:40:47 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[20:40:47 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 27.1456ms
[20:40:47 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:47 INF] Information details: ArticleController -> Get (params=size:2,number:1,filter:ck)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[20:40:47 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article?Filter=ck&PageNumber=1&PageSize=2 - - - 200 - application/json;+charset=utf-8 35.5898ms
[20:40:52 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article?Filter=cl&PageNumber=1&PageSize=2 - -
[20:40:52 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:52 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:40:52 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:40:52 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.9075ms.
[20:40:52 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[20:40:52 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 21.1753ms
[20:40:52 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:40:52 INF] Information details: ArticleController -> Get (params=size:2,number:1,filter:cl)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[20:40:52 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article?Filter=cl&PageNumber=1&PageSize=2 - - - 200 - application/json;+charset=utf-8 31.0864ms
[20:41:15 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers - -
[20:41:15 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:41:15 INF] AuthenticationScheme: Bearer was forbidden.
[20:41:15 INF] Information details: 
[20:41:15 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers - - - 403 0 - 8.4019ms
[20:41:23 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[20:41:23 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:41:23 INF] AuthenticationScheme: Bearer was forbidden.
[20:41:23 INF] Information details: 
[20:41:23 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 403 0 - 5.9257ms
[20:41:37 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/12/buy - -
[20:41:37 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (customer)
[20:41:37 INF] AuthenticationScheme: Bearer was forbidden.
[20:41:37 INF] Information details: 
[20:41:37 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/12/buy - - - 403 0 - 5.5012ms
[20:42:56 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[20:42:56 INF] CORS policy execution successful.
[20:42:56 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:42:56 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:42:56 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:42:56 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 228.4191ms.
[20:42:56 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[20:42:56 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 266.6071ms
[20:42:56 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:42:56 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[20:42:56 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 294.1704ms
[20:43:20 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers - -
[20:43:20 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:43:20 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:43:20 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:43:24 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3817.4143ms.
[20:43:24 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:43:24 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 3841.3581ms
[20:43:24 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:43:24 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:0)=>
GetArticleOfferByIdHandler -> Handle
[20:43:24 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers - - - 400 - text/plain;+charset=utf-8 3865.7085ms
[20:43:30 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:43:30 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:43:30 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:43:30 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:43:30 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:43:30 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:43:30 INF] Received HTTP response headers after 375.9036ms - 200
[20:43:30 INF] End processing HTTP request after 386.432ms - 200
[20:43:30 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1
[20:43:30 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1
[20:43:30 INF] Received HTTP response headers after 235.1683ms - 200
[20:43:30 INF] End processing HTTP request after 238.432ms - 200
[20:43:30 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:43:30 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:43:30 INF] Received HTTP response headers after 113.3652ms - 200
[20:43:30 INF] End processing HTTP request after 116.7086ms - 200
[20:43:30 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1
[20:43:30 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1
[20:43:30 INF] Received HTTP response headers after 89.2398ms - 200
[20:43:30 INF] End processing HTTP request after 93.1788ms - 200
[20:43:31 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1524.7315ms.
[20:43:31 INF] Executing ObjectResult, writing value of type 'System.String'.
[20:43:31 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1546.6276ms
[20:43:31 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:43:31 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:24)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:1,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:1,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1)=>
VendorGrpcProvider -> GetArticle (id:1)
[20:43:31 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 302 - text/plain;+charset=utf-8 1558.3269ms
[20:43:39 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=124 - -
[20:43:39 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:43:39 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:43:39 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:43:39 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.2521ms.
[20:43:39 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:43:39 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 39.4533ms
[20:43:39 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:43:39 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:124)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[20:43:39 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=124 - - - 200 - application/json;+charset=utf-8 49.6059ms
[20:43:46 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/12/buy - -
[20:43:46 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:43:46 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:43:46 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:43:46 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 17.6212ms.
[20:43:46 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:43:46 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 38.5927ms
[20:43:46 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:43:46 INF] Information details: ArticleController -> Buy (id:12,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get
[20:43:46 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/12/buy - - - 400 - text/plain;+charset=utf-8 52.1678ms
[20:43:51 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[20:43:51 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:43:51 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:43:51 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:43:52 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 628.9305ms
[20:43:52 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:43:52 ERR] Error details: Unknown error
[20:43:52 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:43:52 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 500 - application/json 866.0524ms
[20:44:23 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order - -
[20:44:23 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
[20:44:23 INF] AuthenticationScheme: Bearer was forbidden.
[20:44:23 INF] Information details: 
[20:44:23 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order - - - 403 0 - 5.1246ms
[20:47:59 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[20:48:00 INF] Now listening on: https://localhost:7111
[20:48:00 INF] Now listening on: http://localhost:5111
[20:48:00 INF] Application started. Press Ctrl+C to shut down.
[20:48:00 INF] Hosting environment: Development
[20:48:00 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[20:48:01 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:48:02 INF] Information details: 
[20:48:02 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:48:02 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 303.6149ms
[20:48:02 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:48:02 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.3999ms
[20:48:02 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:48:02 INF] Information details: 
[20:48:02 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.8652ms
[20:48:14 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=232 - -
[20:48:14 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:48:14 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:48:14 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:48:15 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 279.6579ms.
[20:48:15 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:48:15 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 429.0583ms
[20:48:15 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:48:15 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:232)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[20:48:15 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=232 - - - 200 - application/json;+charset=utf-8 839.0569ms
[20:48:20 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[20:48:20 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:48:20 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:48:20 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:48:21 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 705.8088ms
[20:48:21 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:48:21 ERR] Error details: Unknown error
[20:48:21 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:48:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 500 - application/json 953.5331ms
[20:51:10 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[20:51:11 INF] Now listening on: https://localhost:7111
[20:51:11 INF] Now listening on: http://localhost:5111
[20:51:11 INF] Application started. Press Ctrl+C to shut down.
[20:51:12 INF] Hosting environment: Development
[20:51:12 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[20:51:12 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:51:13 INF] Information details: 
[20:51:13 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:51:13 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 349.5679ms
[20:51:13 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:51:13 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 89.5570ms
[20:51:13 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:51:13 INF] Information details: 
[20:51:13 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.5891ms
[20:51:31 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=56 - -
[20:51:31 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:51:32 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:51:32 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:51:32 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 255.0833ms.
[20:51:32 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:51:32 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 401.5838ms
[20:51:32 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:51:32 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:56)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[20:51:32 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=56 - - - 200 - application/json;+charset=utf-8 884.3029ms
[20:51:39 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[20:51:39 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:51:39 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:51:39 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:51:39 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.0689ms.
[20:51:39 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[20:51:39 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 57.0251ms
[20:51:39 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:51:39 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:51:39 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 75.6206ms
[20:51:54 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/17/buy - -
[20:51:54 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:51:54 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:51:54 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:51:54 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 8.6803ms.
[20:51:54 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:51:54 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 30.3473ms
[20:51:54 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:51:54 INF] Information details: ArticleController -> Buy (id:17,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get
[20:51:54 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/17/buy - - - 400 - text/plain;+charset=utf-8 40.9049ms
[20:51:57 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[20:51:57 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:51:57 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:51:57 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:51:57 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.7703ms.
[20:51:57 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:51:57 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 22.6251ms
[20:51:57 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:51:57 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get
[20:51:57 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 400 - text/plain;+charset=utf-8 31.9655ms
[20:52:01 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=56 - -
[20:52:01 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:52:01 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:52:01 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:52:01 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.2723ms.
[20:52:01 INF] Executing ObjectResult, writing value of type 'System.String'.
[20:52:01 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 27.3437ms
[20:52:01 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:52:01 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:56)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[20:52:01 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=56 - - - 302 - text/plain;+charset=utf-8 36.1540ms
[20:52:07 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/167/offers?MaxArticlePrice=56 - -
[20:52:07 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:52:07 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:52:07 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:52:07 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:07 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:07 INF] Received HTTP response headers after 347.6411ms - 404
[20:52:07 INF] End processing HTTP request after 359.0662ms - 404
[20:52:07 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:07 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:07 INF] Received HTTP response headers after 131.3678ms - 404
[20:52:07 INF] End processing HTTP request after 135.1906ms - 404
[20:52:08 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1052.0963ms.
[20:52:08 INF] Executing ObjectResult, writing value of type 'System.String'.
[20:52:08 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1075.3221ms
[20:52:08 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:52:08 INF] Information details: ArticleController -> GetOffers (id:167,maxPrice:56)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:167,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:167,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:167)=>
VendorGrpcProvider -> GetArticle (id:167)
[20:52:08 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/167/offers?MaxArticlePrice=56 - - - 302 - text/plain;+charset=utf-8 1085.6722ms
[20:52:13 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/167/offers?MaxArticlePrice=5666 - -
[20:52:13 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:52:13 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:52:13 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:52:13 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:13 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:13 INF] Received HTTP response headers after 97.2243ms - 404
[20:52:13 INF] End processing HTTP request after 101.3269ms - 404
[20:52:13 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:13 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/167/exist
[20:52:13 INF] Received HTTP response headers after 86.4749ms - 404
[20:52:13 INF] End processing HTTP request after 89.8245ms - 404
[20:52:13 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 272.1017ms.
[20:52:13 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:52:13 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 294.9153ms
[20:52:13 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:52:13 INF] Information details: ArticleController -> GetOffers (id:167,maxPrice:5666)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:167,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:167,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:167)=>
VendorGrpcProvider -> GetArticle (id:167)
[20:52:13 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/167/offers?MaxArticlePrice=5666 - - - 200 - application/json;+charset=utf-8 303.2162ms
[20:52:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/167/buy - -
[20:52:21 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:52:21 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:52:21 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:52:21 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6688ms.
[20:52:21 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[20:52:21 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 22.761ms
[20:52:21 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:52:21 INF] Information details: ArticleController -> Buy (id:167,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:52:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/167/buy - - - 200 - application/json;+charset=utf-8 31.6483ms
[20:52:43 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - -
[20:52:43 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
[20:52:43 INF] AuthenticationScheme: Bearer was forbidden.
[20:52:43 INF] Information details: 
[20:52:43 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - - - 403 0 - 7.7142ms
[20:52:46 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - -
[20:52:46 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
[20:52:47 INF] AuthenticationScheme: Bearer was forbidden.
[20:52:47 INF] Information details: 
[20:52:47 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - - - 403 0 - 6.0378ms
[20:53:21 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[20:53:21 INF] CORS policy execution successful.
[20:53:21 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:53:21 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[20:53:21 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:53:21 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 239.0796ms.
[20:53:21 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[20:53:21 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 275.7623ms
[20:53:21 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[20:53:21 INF] Information details: AuthController -> Login (username:acc-test-one@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[20:53:21 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 290.4344ms
[20:53:45 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=1&PageSize=23 - -
[20:53:45 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:53:45 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:53:45 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:53:45 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.9545ms.
[20:53:45 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[20:53:45 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 58.3874ms
[20:53:45 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:53:45 INF] Information details: ArticleController -> Get (params=size:23,number:1,filter:)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[20:53:45 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=1&PageSize=23 - - - 200 - application/json;+charset=utf-8 76.7838ms
[20:53:50 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - -
[20:53:50 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:53:50 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[20:53:50 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:53:50 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 623.1438ms
[20:53:50 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:53:51 ERR] Error details: Unknown error
[20:53:51 INF] Information details: OrderController -> Get (params=size:25,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[20:53:51 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - - - 500 - application/json 848.8380ms
[20:54:29 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=25 - -
[20:54:29 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:54:29 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[20:54:29 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:55:05 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[20:55:05 INF] Now listening on: https://localhost:7111
[20:55:06 INF] Now listening on: http://localhost:5111
[20:55:06 INF] Application started. Press Ctrl+C to shut down.
[20:55:06 INF] Hosting environment: Development
[20:55:06 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[20:55:07 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:55:07 INF] Information details: 
[20:55:07 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:55:07 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 370.6574ms
[20:55:07 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:55:07 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 125.5213ms
[20:55:07 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:55:08 INF] Information details: 
[20:55:08 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 266.5080ms
[20:55:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[20:55:21 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:55:21 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[20:55:21 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:55:25 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 3261.8484ms.
[20:55:25 INF] Executing StatusCodeResult, setting HTTP status code 404
[20:55:25 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 3388.7752ms
[20:55:25 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:55:25 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[20:55:25 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 404 0 - 3815.0276ms
[20:55:47 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - -
[20:55:47 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:55:47 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:55:47 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:55:47 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:55:47 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:55:47 INF] Received HTTP response headers after 372.7176ms - 200
[20:55:47 INF] End processing HTTP request after 382.7187ms - 200
[20:55:47 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1
[20:55:47 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1
[20:55:47 INF] Received HTTP response headers after 246.2386ms - 200
[20:55:47 INF] End processing HTTP request after 251.2096ms - 200
[20:55:48 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:55:48 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[20:55:48 INF] Received HTTP response headers after 115.4566ms - 200
[20:55:48 INF] End processing HTTP request after 119.6506ms - 200
[20:55:48 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1
[20:55:48 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1
[20:55:48 INF] Received HTTP response headers after 100.3088ms - 200
[20:55:48 INF] End processing HTTP request after 103.2654ms - 200
[20:55:48 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1468.4874ms.
[20:55:48 INF] Executing ObjectResult, writing value of type 'System.String'.
[20:55:48 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1505.6657ms
[20:55:48 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:55:48 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:24)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:1,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:1,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1)=>
VendorGrpcProvider -> GetArticle (id:1)
[20:55:48 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=24 - - - 302 - text/plain;+charset=utf-8 1525.6861ms
[20:55:52 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=224 - -
[20:55:52 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:55:52 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:55:52 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:55:52 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.5065ms.
[20:55:52 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:55:52 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 44.3352ms
[20:55:52 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:55:52 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:224)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[20:55:52 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=224 - - - 200 - application/json;+charset=utf-8 57.3728ms
[20:55:58 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[20:55:58 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:55:58 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:55:58 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:55:58 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.4217ms.
[20:55:58 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[20:55:58 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 51.088ms
[20:55:58 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:55:58 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:55:58 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 65.5447ms
[20:56:06 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/131/offers?MaxArticlePrice=224 - -
[20:56:06 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:56:06 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:56:06 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:56:06 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/131/exist
[20:56:06 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/131/exist
[20:56:06 INF] Received HTTP response headers after 105.7267ms - 404
[20:56:06 INF] End processing HTTP request after 110.5146ms - 404
[20:56:06 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/131/exist
[20:56:06 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/131/exist
[20:56:06 INF] Received HTTP response headers after 100.6794ms - 200
[20:56:06 INF] End processing HTTP request after 106.9885ms - 200
[20:56:06 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/131
[20:56:06 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/131
[20:56:07 INF] Received HTTP response headers after 91.7653ms - 200
[20:56:07 INF] End processing HTTP request after 96.2057ms - 200
[20:56:07 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 372.5068ms.
[20:56:07 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:56:07 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 391.3912ms
[20:56:07 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:56:07 INF] Information details: ArticleController -> GetOffers (id:131,maxPrice:224)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:131,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:131,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:131,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:131)
[20:56:07 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/131/offers?MaxArticlePrice=224 - - - 200 - application/json;+charset=utf-8 401.2398ms
[20:56:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/131/buy - -
[20:56:11 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:56:11 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:56:11 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:56:11 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5874ms.
[20:56:11 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[20:56:11 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 24.7778ms
[20:56:11 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:56:11 INF] Information details: ArticleController -> Buy (id:131,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:56:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/131/buy - - - 200 - application/json;+charset=utf-8 37.4992ms
[20:56:30 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[20:56:30 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:56:30 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[20:56:30 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:56:31 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 662.7865ms
[20:56:31 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[20:56:31 ERR] Error details: Unknown error
[20:56:31 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[20:56:31 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 500 - application/json 901.5133ms
[20:59:21 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[20:59:22 INF] Now listening on: https://localhost:7111
[20:59:22 INF] Now listening on: http://localhost:5111
[20:59:22 INF] Application started. Press Ctrl+C to shut down.
[20:59:22 INF] Hosting environment: Development
[20:59:22 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[20:59:23 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[20:59:24 INF] Information details: 
[20:59:24 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[20:59:24 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 457.2477ms
[20:59:24 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[20:59:24 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 111.8460ms
[20:59:24 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[20:59:24 INF] Information details: 
[20:59:24 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 252.4267ms
[20:59:44 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=33 - -
[20:59:44 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:59:44 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:59:44 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:59:44 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 246.827ms.
[20:59:44 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[20:59:44 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 396.9441ms
[20:59:44 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[20:59:44 INF] Information details: ArticleController -> GetOffers (id:3,maxPrice:33)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[20:59:44 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=33 - - - 200 - application/json;+charset=utf-8 859.0894ms
[20:59:51 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - -
[20:59:51 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:59:51 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:59:51 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:59:51 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.9808ms.
[20:59:51 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[20:59:51 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 55.1258ms
[20:59:51 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:59:51 INF] Information details: ArticleController -> Buy (id:3,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[20:59:51 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - - - 200 - application/json;+charset=utf-8 78.4435ms
[20:59:54 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - -
[20:59:54 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:59:54 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[20:59:54 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[20:59:54 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 6.7177ms.
[20:59:54 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[20:59:54 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 30.0695ms
[20:59:54 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[20:59:54 INF] Information details: ArticleController -> Buy (id:3,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get
[20:59:54 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - - - 400 - text/plain;+charset=utf-8 44.8057ms
[21:00:05 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/31/offers?MaxArticlePrice=33 - -
[21:00:05 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:00:05 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:00:05 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:00:05 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:05 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:05 INF] Received HTTP response headers after 327.7006ms - 200
[21:00:05 INF] End processing HTTP request after 342.1151ms - 200
[21:00:05 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:05 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:05 INF] Received HTTP response headers after 238.7454ms - 200
[21:00:05 INF] End processing HTTP request after 243.0719ms - 200
[21:00:05 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:05 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:05 INF] Received HTTP response headers after 101.8952ms - 200
[21:00:05 INF] End processing HTTP request after 106.4744ms - 200
[21:00:05 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:05 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:05 INF] Received HTTP response headers after 93.9087ms - 200
[21:00:05 INF] End processing HTTP request after 97.7597ms - 200
[21:00:06 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1341.8412ms.
[21:00:06 INF] Executing ObjectResult, writing value of type 'System.String'.
[21:00:06 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1365.5228ms
[21:00:06 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:00:06 INF] Information details: ArticleController -> GetOffers (id:31,maxPrice:33)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:31,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:31,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:31,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:31,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:31)=>
VendorGrpcProvider -> GetArticle (id:31)
[21:00:06 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/31/offers?MaxArticlePrice=33 - - - 302 - text/plain;+charset=utf-8 1377.4227ms
[21:00:10 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/31/offers?MaxArticlePrice=332 - -
[21:00:10 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:00:10 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:00:10 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:00:10 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:10 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:10 INF] Received HTTP response headers after 103.7478ms - 200
[21:00:10 INF] End processing HTTP request after 108.5443ms - 200
[21:00:10 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:10 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:10 INF] Received HTTP response headers after 94.7627ms - 200
[21:00:10 INF] End processing HTTP request after 97.9204ms - 200
[21:00:10 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:10 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31/exist
[21:00:10 INF] Received HTTP response headers after 101.6813ms - 200
[21:00:10 INF] End processing HTTP request after 105.1049ms - 200
[21:00:10 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:10 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/31
[21:00:10 INF] Received HTTP response headers after 88.9573ms - 200
[21:00:10 INF] End processing HTTP request after 91.7387ms - 200
[21:00:10 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 493.9396ms.
[21:00:10 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[21:00:10 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 516.8923ms
[21:00:10 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:00:10 INF] Information details: ArticleController -> GetOffers (id:31,maxPrice:332)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:31,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:31,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:31,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:31,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:31)=>
VendorGrpcProvider -> GetArticle (id:31)
[21:00:10 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/31/offers?MaxArticlePrice=332 - - - 200 - application/json;+charset=utf-8 527.2068ms
[21:00:19 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/31/buy - -
[21:00:19 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:00:19 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:00:19 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:00:19 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6492ms.
[21:00:19 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[21:00:19 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 25.2676ms
[21:00:19 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:00:19 INF] Information details: ArticleController -> Buy (id:31,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[21:00:19 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/31/buy - - - 200 - application/json;+charset=utf-8 31.4704ms
[21:00:42 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[21:00:42 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:00:42 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[21:00:42 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:00:42 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.7258ms.
[21:00:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:00:42 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 39.5323ms
[21:00:42 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:00:42 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[21:00:42 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 200 - application/json;+charset=utf-8 59.4073ms
[21:01:02 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/31 - -
[21:01:02 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:01:02 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:01:02 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:01:02 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 4.1607ms.
[21:01:02 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[21:01:02 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 28.2543ms
[21:01:02 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:01:02 INF] Information details: ArticleController -> Get (id:31)=>
GetArticleByIdHandler -> Handle=>
ArticleRepository -> Get
[21:01:02 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/31 - - - 404 - text/plain;+charset=utf-8 42.4771ms
[21:01:07 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3 - -
[21:01:07 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:01:07 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:01:07 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:01:07 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.858ms.
[21:01:07 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDetailsDto'.
[21:01:07 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 27.291ms
[21:01:07 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:01:07 INF] Information details: ArticleController -> Get (id:3)=>
GetArticleByIdHandler -> Handle=>
ArticleRepository -> Get
[21:01:07 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3 - - - 200 - application/json;+charset=utf-8 37.0468ms
[21:01:16 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=1&PageSize=24 - -
[21:01:16 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:01:16 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:01:16 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:01:16 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.9014ms.
[21:01:16 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:01:16 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 52.5437ms
[21:01:16 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:01:16 INF] Information details: ArticleController -> Get (params=size:24,number:1,filter:)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[21:01:16 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article?PageNumber=1&PageSize=24 - - - 200 - application/json;+charset=utf-8 68.3734ms
[21:03:22 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[21:03:23 INF] Now listening on: https://localhost:7111
[21:03:23 INF] Now listening on: http://localhost:5111
[21:03:23 INF] Application started. Press Ctrl+C to shut down.
[21:03:23 INF] Hosting environment: Development
[21:03:23 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[21:03:24 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[21:03:25 INF] Information details: 
[21:03:25 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[21:03:25 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 516.1655ms
[21:03:25 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[21:03:25 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.5331ms
[21:03:25 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[21:03:25 INF] Information details: 
[21:03:25 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.3176ms
[21:03:44 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1 - -
[21:03:45 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:03:45 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:03:45 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:03:46 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:03:46 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:03:48 INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:03:48 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3630.9541ms.
[21:03:48 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDetailsDto'.
[21:03:48 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 3776.9088ms
[21:03:48 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:03:48 INF] Information details: ArticleController -> Get (id:1)=>
GetArticleByIdHandler -> Handle
[21:03:48 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1 - - - 200 - application/json;+charset=utf-8 4223.9671ms
[21:03:58 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=21 - -
[21:03:58 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:03:58 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:03:58 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:03:58 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:03:58 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.3274ms.
[21:03:58 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:03:58 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 141.0569ms
[21:03:58 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:03:58 INF] Information details: ArticleController -> Get (params=size:21,number:1,filter:)=>
GetArticlesHandler -> Handle
[21:03:58 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=21 - - - 200 - application/json;+charset=utf-8 166.3861ms
[21:04:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[21:04:11 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:04:11 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[21:04:11 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:04:11 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 675.733ms
[21:04:11 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:04:11 ERR] Error details: Unknown error
[21:04:11 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle
[21:04:11 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 500 - application/json 911.3452ms
[21:05:07 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[21:05:07 INF] Now listening on: https://localhost:7111
[21:05:07 INF] Now listening on: http://localhost:5111
[21:05:07 INF] Application started. Press Ctrl+C to shut down.
[21:05:07 INF] Hosting environment: Development
[21:05:07 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[21:05:08 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[21:05:09 INF] Information details: 
[21:05:09 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[21:05:09 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 375.5614ms
[21:05:09 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[21:05:09 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 277.1663ms
[21:05:09 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[21:05:10 INF] Information details: 
[21:05:10 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.9274ms
[21:05:24 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[21:05:25 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:05:25 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[21:05:25 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:05:26 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:05:26 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:05:27 INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price]
FROM [Orders] AS [o]
[21:06:12 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[21:06:13 INF] Now listening on: https://localhost:7111
[21:06:13 INF] Now listening on: http://localhost:5111
[21:06:13 INF] Application started. Press Ctrl+C to shut down.
[21:06:13 INF] Hosting environment: Development
[21:06:13 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[21:06:14 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[21:06:15 INF] Information details: 
[21:06:15 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[21:06:15 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 671.0318ms
[21:06:15 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[21:06:15 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.7857ms
[21:06:16 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[21:06:16 INF] Information details: 
[21:06:16 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.2931ms
[21:06:54 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[21:06:55 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:06:55 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[21:06:55 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:06:56 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:06:56 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:06:57 INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[21:06:57 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1931.9146ms.
[21:06:57 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:06:57 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 2083.0549ms
[21:06:57 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:06:57 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle
[21:06:57 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 200 - application/json;+charset=utf-8 2527.1572ms
[21:08:32 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=21 - -
[21:08:32 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:32 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:08:32 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:08:32 INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:08:32 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[21:08:32 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[21:08:32 INF] Received HTTP response headers after 365.1606ms - 200
[21:08:32 INF] End processing HTTP request after 375.5495ms - 200
[21:08:32 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1
[21:08:32 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1
[21:08:32 INF] Received HTTP response headers after 220.3856ms - 200
[21:08:32 INF] End processing HTTP request after 225.2446ms - 200
[21:08:32 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[21:08:32 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1/exist
[21:08:33 INF] Received HTTP response headers after 108.8563ms - 200
[21:08:33 INF] End processing HTTP request after 113.7926ms - 200
[21:08:33 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1
[21:08:33 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1
[21:08:33 INF] Received HTTP response headers after 96.5305ms - 200
[21:08:33 INF] End processing HTTP request after 99.8096ms - 200
[21:08:33 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1533.1602ms.
[21:08:33 INF] Executing ObjectResult, writing value of type 'System.String'.
[21:08:33 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1563.0549ms
[21:08:33 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:33 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:21)=>
GetArticleOfferByIdHandler -> Handle=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:1,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:1,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1)=>
VendorGrpcProvider -> GetArticle (id:1)
[21:08:33 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=21 - - - 302 - text/plain;+charset=utf-8 1581.2927ms
[21:08:38 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=212 - -
[21:08:38 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:38 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:08:38 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:08:38 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:08:38 INF] Executed DbCommand (2ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:08:38 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 112.1122ms.
[21:08:38 INF] Executing ObjectResult, writing value of type 'System.String'.
[21:08:38 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 138.2754ms
[21:08:38 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:38 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:212)=>
GetArticleOfferByIdHandler -> Handle
[21:08:38 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=212 - - - 302 - text/plain;+charset=utf-8 151.6271ms
[21:08:41 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=2122 - -
[21:08:41 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:41 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:08:41 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:08:41 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:08:41 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:08:41 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.3276ms.
[21:08:41 INF] Executing ObjectResult, writing value of type 'System.String'.
[21:08:41 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 46.5029ms
[21:08:41 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:41 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:2122)=>
GetArticleOfferByIdHandler -> Handle
[21:08:41 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=2122 - - - 302 - text/plain;+charset=utf-8 59.0766ms
[21:08:45 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=2122222 - -
[21:08:45 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:45 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:08:45 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:08:45 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:08:45 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:08:45 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.0127ms.
[21:08:45 INF] Executing ObjectResult, writing value of type 'System.String'.
[21:08:45 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 27.1343ms
[21:08:45 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:45 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:2122222)=>
GetArticleOfferByIdHandler -> Handle
[21:08:45 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offers?MaxArticlePrice=2122222 - - - 302 - text/plain;+charset=utf-8 35.8486ms
[21:08:51 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=123 - -
[21:08:51 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:51 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:08:51 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:08:51 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:08:51 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/3/exist
[21:08:51 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/3/exist
[21:08:51 INF] Received HTTP response headers after 103.979ms - 200
[21:08:51 INF] End processing HTTP request after 107.7492ms - 200
[21:08:51 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/3
[21:08:51 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/3
[21:08:51 INF] Received HTTP response headers after 92.7329ms - 200
[21:08:51 INF] End processing HTTP request after 96.1484ms - 200
[21:08:51 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/3/exist
[21:08:51 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/3/exist
[21:08:51 INF] Received HTTP response headers after 155.6441ms - 200
[21:08:51 INF] End processing HTTP request after 161.4122ms - 200
[21:08:51 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/3
[21:08:51 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/3
[21:08:51 INF] Received HTTP response headers after 98.3979ms - 200
[21:08:51 INF] End processing HTTP request after 101.6309ms - 200
[21:08:51 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 591.7824ms.
[21:08:51 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[21:08:51 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 613.0707ms
[21:08:51 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:08:51 INF] Information details: ArticleController -> GetOffers (id:3,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:3,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:3,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:3,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:3,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:3)=>
VendorGrpcProvider -> GetArticle (id:3)
[21:08:51 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 623.2059ms
[21:09:00 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - -
[21:09:00 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:09:00 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:09:00 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:09:00 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:09:00 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:09:00 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 51.008ms.
[21:09:00 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[21:09:00 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 74.1783ms
[21:09:00 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:09:00 INF] Information details: ArticleController -> Buy (id:3,customerId)=>
BuyArticleCommand -> Handle
[21:09:00 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - - - 400 - text/plain;+charset=utf-8 87.7031ms
[21:09:12 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=123 - -
[21:09:12 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:09:12 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:09:12 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:09:12 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5677ms.
[21:09:12 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[21:09:12 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 22.8464ms
[21:09:12 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:09:12 INF] Information details: ArticleController -> GetOffers (id:3,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle
[21:09:12 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 31.0257ms
[21:11:03 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[21:11:03 INF] CORS policy execution successful.
[21:11:03 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:11:03 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[21:11:03 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:11:03 INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[21:11:04 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 252.9706ms.
[21:11:04 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[21:11:04 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 291.1833ms
[21:11:04 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:11:04 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[21:11:04 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 312.6490ms
[21:11:19 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=123 - -
[21:11:19 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:11:19 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:11:19 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:11:19 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6385ms.
[21:11:19 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[21:11:19 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 23.3604ms
[21:11:19 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:11:19 INF] Information details: ArticleController -> GetOffers (id:3,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle
[21:11:19 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/offers?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 34.7404ms
[21:11:24 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - -
[21:11:24 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:11:24 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:11:24 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:11:24 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:11:24 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:11:24 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:11:24 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:11:24 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:11:25 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 947.1395ms
[21:11:25 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:11:26 ERR] Error details: Internal server error:Its not constructed to support saving of orders with articles (on disc) which are not at our system!!!
Homework.Enigmatry.Shop.Application.Exceptions.UnavailableAtLocalPersistenceStorageException: Its not constructed to support saving of orders with articles (on disc) which are not at our system!!!
   at Homework.Enigmatry.Shop.Application.Features.Articles.Handlers.Commands.BuyArticleCommand.Handle(BuyArticleRequest request, CancellationToken cancellationToken) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Application\Features\Articles\Handlers\Commands\BuyArticleCommand.cs:line 67
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy(Int32 id, CancellationToken cancellationToken) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Presentation\Controllers\ArticleController.cs:line 107
   at lambda_method134(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Homework.Enigmatry.Shop.Presentation.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Presentation\Middleware\ExceptionMiddleware.cs:line 58
[21:11:26 INF] Information details: ArticleController -> Buy (id:3,customerId)=>
BuyArticleCommand -> Handle
[21:11:26 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/3/buy - - - 500 - application/json 1760.1128ms
[21:11:44 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/2/buy - -
[21:11:44 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:11:44 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:11:44 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:11:44 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:11:44 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:11:44 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 12.7521ms.
[21:11:44 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[21:11:44 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 34.8264ms
[21:11:44 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:11:44 INF] Information details: ArticleController -> Buy (id:2,customerId)=>
BuyArticleCommand -> Handle
[21:11:44 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/2/buy - - - 400 - text/plain;+charset=utf-8 44.8163ms
[21:11:50 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/2/offers?MaxArticlePrice=123 - -
[21:11:50 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:11:50 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:11:50 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:11:50 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:11:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/2/exist
[21:11:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/2/exist
[21:11:50 INF] Received HTTP response headers after 139.889ms - 200
[21:11:50 INF] End processing HTTP request after 143.2564ms - 200
[21:11:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/2
[21:11:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/2
[21:11:50 INF] Received HTTP response headers after 96.2823ms - 200
[21:11:50 INF] End processing HTTP request after 100.1498ms - 200
[21:11:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/2/exist
[21:11:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/2/exist
[21:11:50 INF] Received HTTP response headers after 119.7843ms - 200
[21:11:50 INF] End processing HTTP request after 123.1992ms - 200
[21:11:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/2
[21:11:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/2
[21:11:50 INF] Received HTTP response headers after 102.7833ms - 200
[21:11:50 INF] End processing HTTP request after 106.0978ms - 200
[21:11:51 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 587.3053ms.
[21:11:51 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[21:11:51 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 608.2435ms
[21:11:51 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:11:51 INF] Information details: ArticleController -> GetOffers (id:2,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:2,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:2,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:2,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:2,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:2)=>
VendorGrpcProvider -> GetArticle (id:2)
[21:11:51 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/2/offers?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 616.0230ms
[21:11:54 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/2/buy - -
[21:11:54 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:11:54 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:11:54 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:11:54 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:11:54 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:11:54 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:11:54 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:11:54 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:11:54 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 897.9388ms
[21:11:55 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:11:55 ERR] Error details: Internal server error:Its not constructed to support saving of orders with articles (on disc) which are not at our system!!!
Homework.Enigmatry.Shop.Application.Exceptions.UnavailableAtLocalPersistenceStorageException: Its not constructed to support saving of orders with articles (on disc) which are not at our system!!!
   at Homework.Enigmatry.Shop.Application.Features.Articles.Handlers.Commands.BuyArticleCommand.Handle(BuyArticleRequest request, CancellationToken cancellationToken) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Application\Features\Articles\Handlers\Commands\BuyArticleCommand.cs:line 67
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy(Int32 id, CancellationToken cancellationToken) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Presentation\Controllers\ArticleController.cs:line 107
   at lambda_method134(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Homework.Enigmatry.Shop.Presentation.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Presentation\Middleware\ExceptionMiddleware.cs:line 58
[21:11:55 INF] Information details: ArticleController -> Buy (id:2,customerId)=>
BuyArticleCommand -> Handle
[21:11:55 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/2/buy - - - 500 - application/json 1615.3765ms
[21:13:02 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/2/offers?MaxArticlePrice=123 - -
[21:13:02 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:13:02 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:13:02 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:13:02 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4773ms.
[21:13:02 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[21:13:02 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 25.756ms
[21:13:02 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[21:13:02 INF] Information details: ArticleController -> GetOffers (id:2,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle
[21:13:02 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/2/offers?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 42.5405ms
[21:13:05 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/2/buy - -
[21:13:05 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:13:05 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:13:05 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:13:05 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:13:05 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:13:05 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[21:13:05 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[21:13:05 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[21:13:05 INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([ArticleId], [CustomerId], [Date], [IsDeleted], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[21:13:05 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 282.3787ms.
[21:13:05 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[21:13:05 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 306.2393ms
[21:13:05 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[21:13:05 INF] Information details: ArticleController -> Buy (id:2,customerId)=>
BuyArticleCommand -> Handle=>
UnitOfWork -> Save
[21:13:05 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/2/buy - - - 200 - application/json;+charset=utf-8 316.8252ms
[21:13:38 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[21:13:38 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:13:38 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[21:13:38 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:13:38 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[21:13:38 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.6402ms.
[21:13:38 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:13:38 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 47.9368ms
[21:13:38 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:13:38 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle
[21:13:38 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 200 - application/json;+charset=utf-8 57.7797ms
[21:13:45 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=1 - -
[21:13:45 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:13:45 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[21:13:45 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:13:45 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[21:13:45 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.7743ms.
[21:13:45 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:13:45 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 26.2272ms
[21:13:45 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:13:45 INF] Information details: OrderController -> Get (params=size:1,number:1,filter:)=>
GetOrdersHandler -> Handle
[21:13:45 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=1 - - - 200 - application/json;+charset=utf-8 35.0424ms
[21:14:29 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[21:14:29 INF] Now listening on: https://localhost:7111
[21:14:29 INF] Now listening on: http://localhost:5111
[21:14:29 INF] Application started. Press Ctrl+C to shut down.
[21:14:29 INF] Hosting environment: Development
[21:14:29 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[21:14:31 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[21:14:31 INF] Information details: 
[21:14:31 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[21:14:31 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[21:14:31 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 506.5214ms
[21:14:31 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 177.4817ms
[21:14:32 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[21:14:32 INF] Information details: 
[21:14:32 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 223.7024ms
[21:14:43 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 59
[21:14:43 INF] CORS policy execution successful.
[21:14:43 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:14:43 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[21:14:43 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:14:44 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:14:44 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:14:45 INF] Executed DbCommand (55ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[21:14:45 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 1941.0506ms.
[21:14:45 INF] Executing StatusCodeResult, setting HTTP status code 401
[21:14:45 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 2093.7725ms
[21:14:45 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:14:45 INF] Information details: AuthController -> Login (username:admin-acc)=>
LoginHandler -> Handle
[21:14:45 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 59 - 401 0 - 2276.6111ms
[21:14:59 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 59
[21:14:59 INF] CORS policy execution successful.
[21:14:59 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:14:59 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[21:14:59 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:14:59 INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[21:15:00 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 410.2525ms.
[21:15:00 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[21:15:00 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 450.0056ms
[21:15:00 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:15:00 INF] Information details: AuthController -> Login (username:admin-acc)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[21:15:00 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 59 - 200 - application/json;+charset=utf-8 465.9544ms
[21:15:18 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=23 - -
[21:15:19 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:19 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:15:19 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:15:19 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:15:19 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 261.4162ms.
[21:15:19 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:15:19 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 306.7686ms
[21:15:19 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:19 INF] Information details: ArticleController -> Get (params=size:23,number:1,filter:)=>
GetArticlesHandler -> Handle
[21:15:19 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=23 - - - 200 - application/json;+charset=utf-8 390.1693ms
[21:15:22 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=2 - -
[21:15:22 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:22 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:15:22 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:15:22 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:15:22 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.7176ms.
[21:15:22 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:15:22 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 32.432ms
[21:15:22 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:22 INF] Information details: ArticleController -> Get (params=size:2,number:1,filter:)=>
GetArticlesHandler -> Handle
[21:15:22 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=2 - - - 200 - application/json;+charset=utf-8 42.8212ms
[21:15:28 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=2&PageSize=2 - -
[21:15:28 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:28 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:15:28 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:15:28 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:15:28 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.0728ms.
[21:15:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:15:28 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 28.6657ms
[21:15:28 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:28 INF] Information details: ArticleController -> Get (params=size:2,number:2,filter:)=>
GetArticlesHandler -> Handle
[21:15:28 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=2&PageSize=2 - - - 200 - application/json;+charset=utf-8 37.8531ms
[21:15:53 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=2&PageSize=2 - -
[21:15:53 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:53 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:15:53 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:15:53 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:15:53 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.2575ms.
[21:15:53 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:15:53 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 23.8708ms
[21:15:53 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:15:53 INF] Information details: ArticleController -> Get (params=size:2,number:2,filter:)=>
GetArticlesHandler -> Handle
[21:15:53 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=2&PageSize=2 - - - 200 - application/json;+charset=utf-8 33.2675ms
[21:16:12 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?Filter=p&PageNumber=2&PageSize=2 - -
[21:16:12 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:16:12 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:16:12 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:16:12 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:16:12 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.2313ms.
[21:16:12 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:16:12 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 32.4217ms
[21:16:12 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:16:12 INF] Information details: ArticleController -> Get (params=size:2,number:2,filter:p)=>
GetArticlesHandler -> Handle
[21:16:12 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?Filter=p&PageNumber=2&PageSize=2 - - - 200 - application/json;+charset=utf-8 41.8492ms
[21:16:18 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?Filter=p&PageNumber=1&PageSize=2 - -
[21:16:18 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:16:18 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[21:16:18 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:16:18 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
[21:16:18 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7922ms.
[21:16:18 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[21:16:18 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 29.6487ms
[21:16:18 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[21:16:18 INF] Information details: ArticleController -> Get (params=size:2,number:1,filter:p)=>
GetArticlesHandler -> Handle
[21:16:18 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?Filter=p&PageNumber=1&PageSize=2 - - - 200 - application/json;+charset=utf-8 40.0986ms
[21:59:18 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[21:59:18 INF] Now listening on: https://localhost:7111
[21:59:18 INF] Now listening on: http://localhost:5111
[21:59:18 INF] Application started. Press Ctrl+C to shut down.
[21:59:18 INF] Hosting environment: Development
[21:59:18 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[21:59:20 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[21:59:20 INF] Information details: 
[21:59:20 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[21:59:20 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 405.7258ms
[21:59:20 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/swagger-ui.css - -
[21:59:20 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[21:59:20 INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[21:59:20 INF] Information details: 
[21:59:20 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/swagger-ui.css - - - 0 143943 text/css 203.5128ms
[21:59:20 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - -
[21:59:20 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[21:59:20 INF] Information details: 
[21:59:20 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - - - 0 628 image/png 255.9180ms
[21:59:20 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 451.7194ms
[21:59:21 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[21:59:21 INF] Information details: 
[21:59:21 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.5284ms
[21:59:26 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 50
[21:59:26 INF] CORS policy execution successful.
[21:59:26 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:59:26 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[21:59:26 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[21:59:27 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:59:27 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[21:59:28 ERR] An error occurred using the connection to database 'TheShop-Enigmatry' on server '(localdb)\MSSQLLocalDB'.
[21:59:28 ERR] An exception occurred while iterating over the results of a query for context type 'Homework.Enigmatry.Persistence.Shared.ShopDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "TheShop-Enigmatry" requested by the login. The login failed.
Login failed for user 'TELETRADER\luka.radovanovic'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:da75e699-e2a5-4eb1-b2d3-cb4e4b370435
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "TheShop-Enigmatry" requested by the login. The login failed.
Login failed for user 'TELETRADER\luka.radovanovic'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:da75e699-e2a5-4eb1-b2d3-cb4e4b370435
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[21:59:29 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 3711.4895ms
[21:59:30 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[21:59:30 ERR] Error details: Unknown error
[21:59:30 INF] Information details: AuthController -> Login (username:string)=>
LoginHandler -> Handle
[21:59:30 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 50 - 500 - application/json 4715.3457ms
[22:24:07 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[22:24:07 INF] Now listening on: https://localhost:7111
[22:24:07 INF] Now listening on: http://localhost:5111
[22:24:07 INF] Application started. Press Ctrl+C to shut down.
[22:24:07 INF] Hosting environment: Development
[22:24:07 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[22:24:08 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[22:24:09 INF] Information details: 
[22:24:09 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[22:24:09 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/swagger-ui.css - -
[22:24:09 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 399.1155ms
[22:24:09 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[22:24:09 INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[22:24:09 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/favicon-16x16.png - -
[22:24:09 INF] Information details: 
[22:24:09 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/swagger-ui.css - - - 0 143943 text/css 354.6023ms
[22:24:09 INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
[22:24:09 INF] Information details: 
[22:24:09 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/favicon-16x16.png - - - 200 665 image/png 76.5468ms
[22:24:09 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 386.6464ms
[22:24:09 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[22:24:10 INF] Information details: 
[22:24:10 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 250.6804ms
[23:14:34 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:14:35 INF] Now listening on: https://localhost:7111
[23:14:35 INF] Now listening on: http://localhost:5111
[23:14:35 INF] Application started. Press Ctrl+C to shut down.
[23:14:35 INF] Hosting environment: Development
[23:14:35 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:14:38 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:14:38 INF] Information details: 
[23:14:39 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/swagger-ui.css - -
[23:14:39 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:14:39 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:14:39 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 1044.6093ms
[23:14:39 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - -
[23:14:39 INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[23:14:39 INF] Information details: 
[23:14:40 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[23:14:40 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/swagger-ui.css - - - 0 143943 text/css 1098.6377ms
[23:14:40 INF] Information details: 
[23:14:40 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 1209.1452ms
[23:14:40 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - - - 0 628 image/png 821.2704ms
[23:14:40 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:14:40 INF] Information details: 
[23:14:40 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 362.7896ms
[23:15:33 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[23:15:33 INF] CORS policy execution successful.
[23:15:33 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:15:33 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:15:33 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:15:33 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 477.0806ms.
[23:15:33 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:15:33 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 635.2793ms
[23:15:33 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:15:33 INF] Information details: AuthController -> Login (username:acc-test-one@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[23:15:33 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 835.3305ms
[23:15:54 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:15:54 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:15:54 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:15:54 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:15:54 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 143.0369ms.
[23:15:54 INF] Executing StatusCodeResult, setting HTTP status code 404
[23:15:54 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 188.2071ms
[23:15:54 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:15:54 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:15:54 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 404 0 - 282.5784ms
[23:16:39 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[23:16:39 INF] CORS policy execution successful.
[23:16:39 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:16:39 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:16:39 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:16:39 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.5496ms.
[23:16:39 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:16:39 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 117.4479ms
[23:16:39 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:16:39 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[23:16:39 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 140.9755ms
[23:16:56 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=233 - -
[23:16:56 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:16:56 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:16:56 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:16:56 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.9562ms.
[23:16:56 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:16:56 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 159.5649ms
[23:16:56 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:16:56 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:233)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[23:16:56 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=233 - - - 200 - application/json;+charset=utf-8 176.8046ms
[23:17:05 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[23:17:05 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:17:05 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:17:05 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:17:05 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.5468ms.
[23:17:05 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:17:05 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 50.1904ms
[23:17:05 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:17:05 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:17:05 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 67.1759ms
[23:17:10 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/154/offer?MaxArticlePrice=233 - -
[23:17:10 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:17:10 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:17:10 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:17:10 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/154/exist
[23:17:10 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/154/exist
[23:17:11 INF] Received HTTP response headers after 380.6881ms - 200
[23:17:11 INF] End processing HTTP request after 390.3482ms - 200
[23:17:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/154
[23:17:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/154
[23:17:11 INF] Received HTTP response headers after 225.8341ms - 200
[23:17:11 INF] End processing HTTP request after 230.6478ms - 200
[23:17:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/154/exist
[23:17:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/154/exist
[23:17:11 INF] Received HTTP response headers after 122.0355ms - 200
[23:17:11 INF] End processing HTTP request after 125.5857ms - 200
[23:17:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/154
[23:17:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/154
[23:17:11 INF] Received HTTP response headers after 95.7722ms - 200
[23:17:11 INF] End processing HTTP request after 99.8776ms - 200
[23:17:12 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1440.4765ms.
[23:17:12 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:17:12 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1465.6328ms
[23:17:12 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:17:12 INF] Information details: ArticleController -> GetOffers (id:154,maxPrice:233)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:154,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:154,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:154,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:154,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:154)=>
VendorGrpcProvider -> GetArticle (id:154)
[23:17:12 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/154/offer?MaxArticlePrice=233 - - - 200 - application/json;+charset=utf-8 1477.0395ms
[23:17:16 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/154/buy - -
[23:17:16 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:17:16 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:17:17 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:17:17 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5201ms.
[23:17:17 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:17:17 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 26.2421ms
[23:17:17 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:17:17 INF] Information details: ArticleController -> Buy (id:154,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:17:17 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/154/buy - - - 200 - application/json;+charset=utf-8 35.5889ms
[23:17:40 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:17:40 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:17:40 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:17:40 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:17:40 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7784ms.
[23:17:40 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:17:40 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 33.21ms
[23:17:40 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:17:40 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:17:40 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 41.8003ms
[23:17:51 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:17:51 INF] CORS policy execution successful.
[23:17:51 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:17:51 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:17:51 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:17:52 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 943.9895ms
[23:17:52 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:17:52 ERR] Error details: Unknown error
[23:17:52 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> Exists
[23:17:52 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 500 - application/json 1198.6415ms
[23:18:13 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:18:13 INF] CORS policy execution successful.
[23:18:13 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:18:13 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:18:13 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:18:14 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 964.8742ms
[23:18:14 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:18:14 ERR] Error details: Unknown error
[23:18:14 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> Exists
[23:18:14 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 500 - application/json 1178.7502ms
[23:21:56 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:21:57 INF] Now listening on: https://localhost:7111
[23:21:57 INF] Now listening on: http://localhost:5111
[23:21:57 INF] Application started. Press Ctrl+C to shut down.
[23:21:57 INF] Hosting environment: Development
[23:21:57 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:21:59 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:22:00 INF] Information details: 
[23:22:00 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:22:00 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 1231.2484ms
[23:22:00 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:22:01 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - -
[23:22:01 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 501.6563ms
[23:22:01 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[23:22:01 INF] Information details: 
[23:22:01 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/favicon-32x32.png - - - 0 628 image/png 403.2977ms
[23:22:01 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:22:01 INF] Information details: 
[23:22:01 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 372.0809ms
[23:22:22 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[23:22:22 INF] CORS policy execution successful.
[23:22:22 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:22:23 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:22:23 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:22:23 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 447.9308ms.
[23:22:23 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:22:23 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 579.3535ms
[23:22:23 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:22:23 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[23:22:23 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 735.4694ms
[23:22:42 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=123 - -
[23:22:42 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:22:42 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:22:42 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:22:42 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 257.1274ms.
[23:22:42 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:22:42 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 306.2252ms
[23:22:42 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:22:42 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[23:22:42 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 376.9059ms
[23:22:48 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[23:22:48 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:22:48 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:22:48 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:22:48 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.4541ms.
[23:22:48 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:22:48 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 60.8276ms
[23:22:48 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:22:48 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:22:48 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 81.3031ms
[23:22:54 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/165/offer?MaxArticlePrice=123 - -
[23:22:54 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:22:54 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:22:54 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:22:54 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/165/exist
[23:22:54 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/165/exist
[23:22:54 INF] Received HTTP response headers after 385.1384ms - 200
[23:22:54 INF] End processing HTTP request after 396.8968ms - 200
[23:22:54 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/165
[23:22:54 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/165
[23:22:54 INF] Received HTTP response headers after 240.63ms - 200
[23:22:54 INF] End processing HTTP request after 244.8408ms - 200
[23:22:54 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/165/exist
[23:22:54 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/165/exist
[23:22:55 INF] Received HTTP response headers after 154.7634ms - 200
[23:22:55 INF] End processing HTTP request after 160.2096ms - 200
[23:22:55 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/165
[23:22:55 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/165
[23:22:55 INF] Received HTTP response headers after 97.8848ms - 200
[23:22:55 INF] End processing HTTP request after 103.5004ms - 200
[23:22:55 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1300.2344ms.
[23:22:55 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:22:55 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1327.5121ms
[23:22:55 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:22:55 INF] Information details: ArticleController -> GetOffers (id:165,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:165,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:165,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:165,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:165,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:165)
[23:22:55 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/165/offer?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 1337.3835ms
[23:23:00 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/165/buy - -
[23:23:00 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:23:00 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:23:00 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:23:00 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.7793ms.
[23:23:00 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:23:00 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 25.4735ms
[23:23:00 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:23:00 INF] Information details: ArticleController -> Buy (id:165,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:23:00 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/165/buy - - - 200 - application/json;+charset=utf-8 35.3100ms
[23:23:19 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=21 - -
[23:23:19 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:23:19 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:23:19 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:23:19 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.2138ms.
[23:23:19 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:23:19 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 42.2621ms
[23:23:19 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:23:19 INF] Information details: OrderController -> Get (params=size:21,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:23:19 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=21 - - - 200 - application/json;+charset=utf-8 61.4232ms
[23:23:25 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:23:25 INF] CORS policy execution successful.
[23:23:25 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:23:25 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:23:25 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:23:26 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 1062.3072ms
[23:23:26 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:23:26 ERR] Error details: Unknown error
[23:23:26 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> Exists
[23:23:26 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 500 - application/json 1313.5366ms
[23:23:40 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:23:40 INF] CORS policy execution successful.
[23:23:40 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:23:40 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:23:40 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:23:50 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 10213.4438ms
[23:23:50 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:23:50 ERR] Error details: Unknown error
[23:23:50 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> Exists
[23:23:50 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 500 - application/json 10494.0479ms
[23:24:12 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:24:12 INF] CORS policy execution successful.
[23:24:12 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:24:12 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:24:12 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:25:12 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:25:12 INF] Now listening on: https://localhost:7111
[23:25:12 INF] Now listening on: http://localhost:5111
[23:25:12 INF] Application started. Press Ctrl+C to shut down.
[23:25:12 INF] Hosting environment: Development
[23:25:12 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:25:16 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:25:17 INF] Information details: 
[23:25:17 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:25:17 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:25:17 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 1118.9601ms
[23:25:17 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 229.1455ms
[23:25:17 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:25:18 INF] Information details: 
[23:25:18 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 466.2431ms
[23:25:40 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[23:25:40 INF] CORS policy execution successful.
[23:25:40 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:25:40 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:25:40 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:25:41 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 461.3583ms.
[23:25:41 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:25:41 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 612.2884ms
[23:25:41 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:25:41 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[23:25:41 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 782.1606ms
[23:26:05 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=1234 - -
[23:26:05 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:26:05 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:26:05 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:06 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 235.8035ms.
[23:26:06 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:26:06 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 280.4738ms
[23:26:06 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:26:06 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[23:26:06 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=1234 - - - 200 - application/json;+charset=utf-8 371.0421ms
[23:26:11 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1234/offer?MaxArticlePrice=1234 - -
[23:26:11 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:26:11 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:26:11 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1234/exist
[23:26:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1234/exist
[23:26:11 INF] Received HTTP response headers after 366.7168ms - 200
[23:26:11 INF] End processing HTTP request after 378.7797ms - 200
[23:26:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1234
[23:26:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1234
[23:26:11 INF] Received HTTP response headers after 248.3394ms - 200
[23:26:11 INF] End processing HTTP request after 252.77ms - 200
[23:26:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1234/exist
[23:26:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1234/exist
[23:26:11 INF] Received HTTP response headers after 128.9524ms - 200
[23:26:11 INF] End processing HTTP request after 133.4839ms - 200
[23:26:11 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1234
[23:26:11 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1234
[23:26:12 INF] Received HTTP response headers after 92.3772ms - 200
[23:26:12 INF] End processing HTTP request after 95.2041ms - 200
[23:26:12 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1427.5452ms.
[23:26:12 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:26:12 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1451.8419ms
[23:26:12 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:26:12 INF] Information details: ArticleController -> GetOffers (id:1234,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1234,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:1234,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1234,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:1234,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1234)=>
VendorGrpcProvider -> GetArticle (id:1234)
[23:26:12 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1234/offer?MaxArticlePrice=1234 - - - 200 - application/json;+charset=utf-8 1466.4370ms
[23:26:19 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[23:26:19 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:26:19 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:26:19 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:19 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.9519ms.
[23:26:19 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:26:19 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 54.0282ms
[23:26:19 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:26:19 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:26:19 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 68.1052ms
[23:26:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1234/buy - -
[23:26:21 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:26:21 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:26:21 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:21 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6232ms.
[23:26:21 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:26:21 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 23.0646ms
[23:26:21 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:26:21 INF] Information details: ArticleController -> Buy (id:1234,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:26:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1234/buy - - - 200 - application/json;+charset=utf-8 31.6312ms
[23:26:25 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1234/buy - -
[23:26:25 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:26:25 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:26:25 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:25 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 10.835ms.
[23:26:25 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[23:26:25 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 33.848ms
[23:26:25 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:26:25 INF] Information details: ArticleController -> Buy (id:1234,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get
[23:26:25 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1234/buy - - - 400 - text/plain;+charset=utf-8 42.2791ms
[23:26:48 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:26:48 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:26:48 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:26:48 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:48 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.7472ms.
[23:26:48 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:26:48 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 37.7395ms
[23:26:48 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:26:48 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:26:48 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 54.2577ms
[23:26:54 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:26:54 INF] CORS policy execution successful.
[23:26:54 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:26:54 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:26:54 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:26:56 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1770.5007ms.
[23:26:56 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:26:56 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 1792.0535ms
[23:26:56 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:26:56 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> Exists=>
OrderRepository -> Get=>
OrderRepository -> Update=>
UnitOfWork -> Save
[23:26:56 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 200 - application/json;+charset=utf-8 1802.4027ms
[23:29:09 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:29:10 INF] Now listening on: https://localhost:7111
[23:29:10 INF] Now listening on: http://localhost:5111
[23:29:10 INF] Application started. Press Ctrl+C to shut down.
[23:29:10 INF] Hosting environment: Development
[23:29:10 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:29:12 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:29:13 INF] Information details: 
[23:29:13 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:29:13 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:29:13 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 1357.4393ms
[23:29:14 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 249.3546ms
[23:29:14 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:29:15 INF] Information details: 
[23:29:15 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 466.5421ms
[23:29:33 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[23:29:33 INF] CORS policy execution successful.
[23:29:33 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:29:33 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:29:33 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:29:34 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 475.3463ms.
[23:29:34 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:29:34 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 615.726ms
[23:29:34 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:29:34 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[23:29:34 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 777.1193ms
[23:29:59 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=1234 - -
[23:29:59 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:29:59 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:29:59 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:29:59 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 234.4119ms.
[23:29:59 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:29:59 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 287.3677ms
[23:29:59 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:29:59 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[23:29:59 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=1234 - - - 200 - application/json;+charset=utf-8 373.4714ms
[23:30:04 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1222/offer?MaxArticlePrice=1234 - -
[23:30:04 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:30:04 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:30:04 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:04 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:04 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:04 INF] Received HTTP response headers after 383.6331ms - 404
[23:30:04 INF] End processing HTTP request after 396.0406ms - 404
[23:30:04 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:04 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:04 INF] Received HTTP response headers after 136.1934ms - 404
[23:30:04 INF] End processing HTTP request after 139.929ms - 404
[23:30:05 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 934.3654ms.
[23:30:05 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[23:30:05 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 963.9359ms
[23:30:05 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:30:05 INF] Information details: ArticleController -> GetOffers (id:1222,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1222,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1222,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1222)
[23:30:05 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1222/offer?MaxArticlePrice=1234 - - - 404 - text/plain;+charset=utf-8 976.6103ms
[23:30:08 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1222/offer?MaxArticlePrice=1234 - -
[23:30:08 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:30:08 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:30:08 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:08 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:08 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:08 INF] Received HTTP response headers after 108.3476ms - 404
[23:30:08 INF] End processing HTTP request after 112.0449ms - 404
[23:30:08 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:08 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:30:08 INF] Received HTTP response headers after 115.746ms - 200
[23:30:08 INF] End processing HTTP request after 120.5306ms - 200
[23:30:08 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222
[23:30:08 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222
[23:30:08 INF] Received HTTP response headers after 217.2401ms - 200
[23:30:08 INF] End processing HTTP request after 220.8869ms - 200
[23:30:09 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 677.3365ms.
[23:30:09 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:30:09 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 699.446ms
[23:30:09 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:30:09 INF] Information details: ArticleController -> GetOffers (id:1222,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1222,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1222,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:1222,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1222)=>
VendorGrpcProvider -> GetArticle (id:1222)
[23:30:09 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1222/offer?MaxArticlePrice=1234 - - - 200 - application/json;+charset=utf-8 710.8864ms
[23:30:15 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[23:30:15 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:30:15 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:30:15 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:15 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.5764ms.
[23:30:15 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:30:15 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 59.6286ms
[23:30:15 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:30:15 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:30:15 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 72.3248ms
[23:30:17 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1222/buy - -
[23:30:17 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:30:17 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:30:17 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:17 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6439ms.
[23:30:17 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:30:17 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 21.3668ms
[23:30:17 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:30:17 INF] Information details: ArticleController -> Buy (id:1222,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:30:17 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1222/buy - - - 200 - application/json;+charset=utf-8 30.0209ms
[23:30:21 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1222/buy - -
[23:30:21 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:30:21 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:30:21 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:21 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 8.1693ms.
[23:30:21 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[23:30:21 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 31.0588ms
[23:30:21 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:30:21 INF] Information details: ArticleController -> Buy (id:1222,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get
[23:30:21 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1222/buy - - - 400 - text/plain;+charset=utf-8 42.8827ms
[23:30:44 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:30:44 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:30:44 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:30:44 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:44 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.8541ms.
[23:30:44 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:30:44 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 39.1827ms
[23:30:44 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:30:44 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:30:44 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 57.4862ms
[23:30:51 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:30:51 INF] CORS policy execution successful.
[23:30:51 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:30:51 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:30:51 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:30:54 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3304.7151ms.
[23:30:54 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:30:54 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 3328.0058ms
[23:30:54 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:30:54 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> Exists=>
OrderRepository -> Get=>
OrderRepository -> Update=>
UnitOfWork -> Save
[23:30:54 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 200 - application/json;+charset=utf-8 3342.5676ms
[23:31:13 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:31:13 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:31:13 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:31:13 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:31:13 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5851ms.
[23:31:13 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:31:13 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 23.6632ms
[23:31:13 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:31:13 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:31:13 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 32.7234ms
[23:31:36 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1222/offer?MaxArticlePrice=1234 - -
[23:31:36 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:31:36 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:31:36 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:31:36 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:31:36 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:31:36 INF] Received HTTP response headers after 116.629ms - 200
[23:31:36 INF] End processing HTTP request after 122.7517ms - 200
[23:31:36 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222
[23:31:36 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222
[23:31:36 INF] Received HTTP response headers after 98.2701ms - 200
[23:31:36 INF] End processing HTTP request after 102.7701ms - 200
[23:31:36 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:31:36 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222/exist
[23:31:36 INF] Received HTTP response headers after 97.0605ms - 200
[23:31:36 INF] End processing HTTP request after 100.5062ms - 200
[23:31:36 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/1222
[23:31:36 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/1222
[23:31:36 INF] Received HTTP response headers after 99.3238ms - 200
[23:31:36 INF] End processing HTTP request after 102.7091ms - 200
[23:31:36 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 505.4648ms.
[23:31:36 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:31:36 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 527.1513ms
[23:31:36 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:31:36 INF] Information details: ArticleController -> GetOffers (id:1222,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:1222,vendorHttpClientName:vendor1)=>
VendorProvider -> GetArticle (id:1222,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:1222,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:1222,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:1222)=>
VendorGrpcProvider -> GetArticle (id:1222)
[23:31:36 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1222/offer?MaxArticlePrice=1234 - - - 200 - application/json;+charset=utf-8 534.7610ms
[23:31:44 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=1234 - -
[23:31:44 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:31:44 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:31:44 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:31:44 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7408ms.
[23:31:44 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:31:44 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 21.7571ms
[23:31:44 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:31:44 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:1234)=>
GetArticleOfferByIdHandler -> Handle=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle
[23:31:44 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=1234 - - - 200 - application/json;+charset=utf-8 30.4415ms
[23:31:50 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[23:31:50 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:31:50 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:31:50 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:31:50 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6087ms.
[23:31:50 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:31:50 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 30.1475ms
[23:31:50 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:31:50 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
ArticleRepository -> Exists=>
ArticleRepository -> Get=>
OrderRepository -> ExistForArticle=>
ArticleRepository -> Get=>
OrderRepository -> Add=>
UnitOfWork -> Save
[23:31:50 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 39.9701ms
[23:32:27 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:32:27 INF] Now listening on: https://localhost:7111
[23:32:27 INF] Now listening on: http://localhost:5111
[23:32:27 INF] Application started. Press Ctrl+C to shut down.
[23:32:27 INF] Hosting environment: Development
[23:32:27 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:32:29 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:32:30 INF] Information details: 
[23:32:30 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:32:30 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 548.0294ms
[23:32:30 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:32:30 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 321.5060ms
[23:32:31 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:32:31 INF] Information details: 
[23:32:31 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 365.4486ms
[23:33:39 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[23:33:39 INF] CORS policy execution successful.
[23:33:39 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:33:39 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:33:39 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:33:40 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 468.8656ms.
[23:33:40 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:33:40 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 607.0148ms
[23:33:40 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:33:40 INF] Information details: AuthController -> Login (username:acc-test-one@gmail.com)=>
LoginHandler -> Handle=>
ArticleRepository -> GetByUsername=>
TokenService -> CreateToken
[23:33:40 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 771.9408ms
[23:33:56 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:33:56 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:33:56 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:33:57 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:33:57 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 145.7841ms.
[23:33:57 INF] Executing StatusCodeResult, setting HTTP status code 404
[23:33:57 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 185.6924ms
[23:33:57 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:33:57 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:33:57 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 404 0 - 265.2537ms
[23:34:25 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:34:25 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:34:25 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:34:25 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:34:25 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 1.386ms.
[23:34:25 INF] Executing StatusCodeResult, setting HTTP status code 404
[23:34:25 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 27.1318ms
[23:34:25 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:34:25 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:34:25 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 404 0 - 38.9408ms
[23:34:26 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:34:26 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:34:26 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:34:26 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:34:26 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 2.2549ms.
[23:34:26 INF] Executing StatusCodeResult, setting HTTP status code 404
[23:34:26 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 22.5084ms
[23:34:26 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:34:26 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle=>
OrderRepository -> GetAll
[23:34:26 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 404 0 - 35.1997ms
[23:34:57 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=22 - -
[23:34:57 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:34:57 INF] Route matched with {action = "Get", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:34:57 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:34:57 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.8749ms.
[23:34:57 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto, Homework.Enigmatry.Application.Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:34:57 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation) in 67.8709ms
[23:34:57 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:34:57 INF] Information details: ArticleController -> Get (params=size:22,number:1,filter:)=>
GetArticlesHandler -> Handle=>
ArticleRepository -> GetAll
[23:34:57 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/local-inventory?PageNumber=1&PageSize=22 - - - 200 - application/json;+charset=utf-8 82.6480ms
[23:35:40 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:35:40 INF] Now listening on: https://localhost:7111
[23:35:40 INF] Now listening on: http://localhost:5111
[23:35:40 INF] Application started. Press Ctrl+C to shut down.
[23:35:40 INF] Hosting environment: Development
[23:35:40 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:35:42 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:35:43 INF] Information details: 
[23:35:43 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:35:43 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 781.4777ms
[23:35:43 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:35:44 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 181.9259ms
[23:35:44 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:35:45 INF] Information details: 
[23:35:45 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.4420ms
[23:36:07 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[23:36:07 INF] CORS policy execution successful.
[23:36:07 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:36:07 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:36:07 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:36:08 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[23:36:08 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[23:36:09 INF] Executed DbCommand (57ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[23:36:10 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2168.1807ms.
[23:36:10 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:36:10 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 2305.9066ms
[23:36:10 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:36:10 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[23:36:10 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 2462.7461ms
[23:36:25 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[23:36:25 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
[23:36:25 INF] AuthenticationScheme: Bearer was forbidden.
[23:36:25 INF] Information details: 
[23:36:25 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 403 0 - 80.5726ms
[23:36:50 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[23:36:50 INF] CORS policy execution successful.
[23:36:50 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:36:50 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:36:50 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:36:50 INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[23:36:50 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 121.6707ms.
[23:36:50 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:36:50 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 152.1919ms
[23:36:50 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:36:50 INF] Information details: AuthController -> Login (username:acc-test-two@gmail.com)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[23:36:50 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 167.6703ms
[23:37:03 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - -
[23:37:03 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:37:03 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:37:03 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:37:03 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[23:37:03 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 325.6378ms.
[23:37:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:37:03 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 385.399ms
[23:37:03 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:37:03 INF] Information details: OrderController -> Get (params=size:22,number:1,filter:)=>
GetOrdersHandler -> Handle
[23:37:03 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=22 - - - 200 - application/json;+charset=utf-8 409.3815ms
[23:37:12 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:37:12 INF] CORS policy execution successful.
[23:37:12 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:37:12 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:37:12 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:37:12 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:37:12 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:37:14 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 1574.0916ms
[23:37:14 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:37:15 ERR] Error details: Unknown error
[23:37:15 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle
[23:37:15 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 500 - application/json 2404.2475ms
[23:38:18 INF] User profile is available. Using 'C:\Users\luka.radovanovic\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[23:38:18 INF] Now listening on: https://localhost:7111
[23:38:18 INF] Now listening on: http://localhost:5111
[23:38:18 INF] Application started. Press Ctrl+C to shut down.
[23:38:18 INF] Hosting environment: Development
[23:38:18 INF] Content root path: C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.API
[23:38:22 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/index.html - -
[23:38:23 INF] Request starting HTTP/2 GET https://localhost:7111/_vs/browserLink - -
[23:38:23 INF] Information details: 
[23:38:23 WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[23:38:23 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/index.html - - - 200 - text/html;charset=utf-8 1108.4714ms
[23:38:23 INF] Request finished HTTP/2 GET https://localhost:7111/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 273.0945ms
[23:38:23 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/favicon-16x16.png - -
[23:38:24 INF] Request starting HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - -
[23:38:24 INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
[23:38:24 INF] Information details: 
[23:38:24 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/favicon-16x16.png - - - 0 665 image/png 414.6829ms
[23:38:24 INF] Information details: 
[23:38:24 INF] Request finished HTTP/2 GET https://localhost:7111/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 512.2443ms
[23:38:37 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[23:38:37 INF] CORS policy execution successful.
[23:38:37 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:38:37 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:38:38 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:38:38 WRN] No store type was specified for the decimal property 'Price' on entity type 'Article'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[23:38:38 WRN] No store type was specified for the decimal property 'Price' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
[23:38:39 INF] Executed DbCommand (83ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[23:38:40 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2427.7532ms.
[23:38:40 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:38:40 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 2557.5808ms
[23:38:40 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:38:40 INF] Information details: AuthController -> Login (username:acc-test-two@gmail.com)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[23:38:40 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 2718.5223ms
[23:38:56 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:38:56 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:38:56 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:38:56 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:38:56 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[23:38:57 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 295.6461ms.
[23:38:57 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:38:57 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 365.5425ms
[23:38:57 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:38:57 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle
[23:38:57 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 453.8293ms
[23:39:03 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:39:03 INF] CORS policy execution successful.
[23:39:03 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:39:03 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:39:03 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:03 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:03 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:39:03 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:03 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
WHERE [o].[Id] = @__id_0
[23:39:03 INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [ArticleId] = @p0, [CustomerId] = @p1, [Date] = @p2, [IsDeleted] = @p3, [Price] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[23:39:03 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 269.1311ms.
[23:39:03 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:39:03 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 293.2368ms
[23:39:03 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:39:03 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
UnitOfWork -> Save
[23:39:03 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 200 - application/json;+charset=utf-8 313.1496ms
[23:39:08 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:39:08 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:39:08 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:39:08 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:08 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[23:39:08 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.9542ms.
[23:39:08 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:39:08 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 33.6629ms
[23:39:08 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:39:08 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle
[23:39:08 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 43.8692ms
[23:39:22 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74
[23:39:22 INF] CORS policy execution successful.
[23:39:22 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:39:22 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:39:22 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:22 INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[23:39:22 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.887ms.
[23:39:22 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:39:22 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 118.9052ms
[23:39:22 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:39:22 INF] Information details: AuthController -> Login (username:acc-test-three@gmail.com)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[23:39:22 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 74 - 200 - application/json;+charset=utf-8 129.6642ms
[23:39:38 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=123 - -
[23:39:38 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:39:38 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:39:38 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:38 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[23:39:38 INF] Executed DbCommand (3ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:38 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 133.3966ms.
[23:39:38 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:39:38 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 158.8972ms
[23:39:38 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:39:38 INF] Information details: ArticleController -> GetOffers (id:1,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle
[23:39:38 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/offer?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 174.8417ms
[23:39:44 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - -
[23:39:44 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:39:44 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:39:44 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:44 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:44 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:39:44 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:44 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:39:44 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[23:39:44 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([ArticleId], [CustomerId], [Date], [IsDeleted], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[23:39:44 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.6424ms.
[23:39:44 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:39:44 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 157.1112ms
[23:39:44 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:39:44 INF] Information details: ArticleController -> Buy (id:1,customerId)=>
BuyArticleCommand -> Handle=>
UnitOfWork -> Save
[23:39:44 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/1/buy - - - 200 - application/json;+charset=utf-8 168.9230ms
[23:39:50 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/123/offer?MaxArticlePrice=123 - -
[23:39:50 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:39:50 INF] Route matched with {action = "GetOffers", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] GetOffers(Int32, Homework.Enigmatry.Shop.Application.DTOs.Article.ArticleRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:39:50 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:50 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[23:39:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/123/exist
[23:39:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/123/exist
[23:39:50 INF] Received HTTP response headers after 364.6934ms - 404
[23:39:50 INF] End processing HTTP request after 373.9151ms - 404
[23:39:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/123/exist
[23:39:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/123/exist
[23:39:50 INF] Received HTTP response headers after 121.6182ms - 200
[23:39:50 INF] End processing HTTP request after 126.5708ms - 200
[23:39:50 INF] Start processing HTTP request GET http://localhost:5222/api/v1/Article/123
[23:39:50 INF] Sending HTTP request GET http://localhost:5222/api/v1/Article/123
[23:39:50 INF] Received HTTP response headers after 225.4216ms - 200
[23:39:50 INF] End processing HTTP request after 229.0564ms - 200
[23:39:51 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1144.6109ms.
[23:39:51 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto'.
[23:39:51 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation) in 1166.2673ms
[23:39:51 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.GetOffers (Homework.Enigmatry.Shop.Presentation)'
[23:39:51 INF] Information details: ArticleController -> GetOffers (id:123,maxPrice:123)=>
GetArticleOfferByIdHandler -> Handle=>
VendorService -> GetAvailableArticles =>
VendorProvider -> IsArticleExist (id:123,vendorHttpClientName:vendor1)=>
VendorProvider -> IsArticleExist (id:123,vendorHttpClientName:vendor2)=>
VendorProvider -> GetArticle (id:123,vendorHttpClientName:vendor2)=>
VendorGrpcProvider -> IsArticleExist (id:123)
[23:39:51 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/123/offer?MaxArticlePrice=123 - - - 200 - application/json;+charset=utf-8 1174.1203ms
[23:39:56 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Article/123/buy - -
[23:39:56 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:39:56 INF] Route matched with {action = "Buy", controller = "Article"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Buy(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController (Homework.Enigmatry.Shop.Presentation).
[23:39:56 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:39:56 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:56 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:39:56 INF] Executed DbCommand (1ms) [Parameters=[@__articleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[ArticleId] = @__articleId_0 AND [o].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:39:56 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:39:56 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name], [a].[Price]
FROM [Articles] AS [a]
WHERE [a].[Id] = @__id_0
[23:39:57 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation) in 972.2299ms
[23:39:57 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy (Homework.Enigmatry.Shop.Presentation)'
[23:39:57 ERR] Error details: Internal server error:Its not constructed to support saving of orders with articles (on disc) which are not at our system!!!
Homework.Enigmatry.Shop.Application.Exceptions.UnavailableAtLocalPersistenceStorageException: Its not constructed to support saving of orders with articles (on disc) which are not at our system!!!
   at Homework.Enigmatry.Shop.Application.Features.Articles.Handlers.Commands.BuyArticleCommand.Handle(BuyArticleRequest request, CancellationToken cancellationToken) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Application\Features\Articles\Handlers\Commands\BuyArticleCommand.cs:line 67
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Homework.Enigmatry.Shop.Presentation.Controllers.ArticleController.Buy(Int32 id, CancellationToken cancellationToken) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Presentation\Controllers\ArticleController.cs:line 107
   at lambda_method196(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Homework.Enigmatry.Shop.Presentation.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\luka.radovanovic\Desktop\Admin\Homework.Enigmatry.Shop\Homework.Enigmatry.Shop.Presentation\Middleware\ExceptionMiddleware.cs:line 58
[23:39:58 INF] Information details: ArticleController -> Buy (id:123,customerId)=>
BuyArticleCommand -> Handle
[23:39:58 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Article/123/buy - - - 500 - application/json 1785.9284ms
[23:40:16 INF] Request starting HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72
[23:40:16 INF] CORS policy execution successful.
[23:40:16 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:40:17 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Login(Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.AuthController (Homework.Enigmatry.Shop.Presentation).
[23:40:17 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:40:17 INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Username] = @__username_0
[23:40:17 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 119.9089ms.
[23:40:17 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Customer.AuthDto'.
[23:40:17 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation) in 155.7961ms
[23:40:17 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.AuthController.Login (Homework.Enigmatry.Shop.Presentation)'
[23:40:17 INF] Information details: AuthController -> Login (username:acc-test-one@gmail.com)=>
LoginHandler -> Handle=>
TokenService -> CreateToken
[23:40:17 INF] Request finished HTTP/2 POST https://localhost:7111/api/v1/Auth/login application/json 72 - 200 - application/json;+charset=utf-8 168.3328ms
[23:40:32 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:40:32 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:40:32 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:40:32 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:40:32 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[23:40:32 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.2871ms.
[23:40:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:40:32 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 34.3604ms
[23:40:32 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:40:32 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle
[23:40:32 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 45.7915ms
[23:40:41 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/5 - -
[23:40:41 INF] CORS policy execution successful.
[23:40:41 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:40:41 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:40:41 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:40:41 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:40:41 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:40:41 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:40:41 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 19.8868ms.
[23:40:41 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[23:40:41 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 39.9684ms
[23:40:41 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:40:41 INF] Information details: OrderController -> Delete (id:5,customerId)=>
GetOrdersHandler -> Handle
[23:40:41 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/5 - - - 400 - text/plain;+charset=utf-8 47.1966ms
[23:40:47 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - -
[23:40:47 INF] CORS policy execution successful.
[23:40:47 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:40:47 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:40:47 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:40:47 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:40:47 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:40:47 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:40:47 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
WHERE [o].[Id] = @__id_0
[23:40:47 INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [ArticleId] = @p0, [CustomerId] = @p1, [Date] = @p2, [IsDeleted] = @p3, [Price] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[23:40:47 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.441ms.
[23:40:47 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:40:47 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 43.3172ms
[23:40:47 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:40:47 INF] Information details: OrderController -> Delete (id:1,customerId)=>
GetOrdersHandler -> Handle=>
UnitOfWork -> Save
[23:40:47 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/1 - - - 200 - application/json;+charset=utf-8 52.7482ms
[23:40:51 INF] Request starting HTTP/2 DELETE https://localhost:7111/api/v1/Order/2 - -
[23:40:51 INF] CORS policy execution successful.
[23:40:51 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:40:51 INF] Route matched with {action = "Delete", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Delete(Int32, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:40:51 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:40:51 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:40:51 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
[23:40:51 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[23:40:51 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
WHERE [o].[Id] = @__id_0
[23:40:51 INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [ArticleId] = @p0, [CustomerId] = @p1, [Date] = @p2, [IsDeleted] = @p3, [Price] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[23:40:51 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.0484ms.
[23:40:51 INF] Executing OkObjectResult, writing value of type 'Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto'.
[23:40:51 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation) in 39.7238ms
[23:40:51 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Delete (Homework.Enigmatry.Shop.Presentation)'
[23:40:51 INF] Information details: OrderController -> Delete (id:2,customerId)=>
GetOrdersHandler -> Handle=>
UnitOfWork -> Save
[23:40:51 INF] Request finished HTTP/2 DELETE https://localhost:7111/api/v1/Order/2 - - - 200 - application/json;+charset=utf-8 47.3072ms
[23:40:56 INF] Request starting HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - -
[23:40:56 INF] Executing endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:40:56 INF] Route matched with {action = "Get", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Homework.Enigmatry.Application.Shared.DTOs.Article.ArticleDto]] Get(Homework.Enigmatry.Shop.Application.DTOs.PagingRequestDto, System.Threading.CancellationToken) on controller Homework.Enigmatry.Shop.Presentation.Controllers.OrderController (Homework.Enigmatry.Shop.Presentation).
[23:40:56 INF] Executing action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) - Validation state: "Valid"
[23:40:56 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ArticleId], [o].[CustomerId], [o].[Date], [o].[IsDeleted], [o].[Price], [a].[Id], [a].[Name], [a].[Price], [c].[Id], [c].[Password], [c].[Role], [c].[Username]
FROM [Orders] AS [o]
INNER JOIN [Articles] AS [a] ON [o].[ArticleId] = [a].[Id]
INNER JOIN [Customers] AS [c] ON [o].[CustomerId] = [c].[Id]
[23:40:56 INF] Executed action method Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7252ms.
[23:40:56 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Collections.Generic.IReadOnlyList`1[[Homework.Enigmatry.Shop.Application.DTOs.Order.OrderDto, Homework.Enigmatry.Shop.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[23:40:56 INF] Executed action Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation) in 28.6742ms
[23:40:56 INF] Executed endpoint 'Homework.Enigmatry.Shop.Presentation.Controllers.OrderController.Get (Homework.Enigmatry.Shop.Presentation)'
[23:40:56 INF] Information details: OrderController -> Get (params=size:12,number:1,filter:)=>
GetOrdersHandler -> Handle
[23:40:56 INF] Request finished HTTP/2 GET https://localhost:7111/api/v1/Order?PageNumber=1&PageSize=12 - - - 200 - application/json;+charset=utf-8 37.5018ms
